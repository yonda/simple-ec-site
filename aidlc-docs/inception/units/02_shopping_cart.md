# ユニット2: ショッピングカート管理 (Shopping Cart)

## 概要
ショッピングカート内の商品を管理する境界づけられたコンテキスト。
ユーザーが購入予定の書籍を一時的に保存し、管理する機能を担当する。

## 責任範囲
- カートへの商品追加
- カート内容の表示
- カート内商品の数量変更
- カートからの商品削除
- 在庫チェック（在庫管理ユニットと連携）

## ユニット間インターフェース
**依存するユニット:**
- 商品カタログ管理ユニット（商品情報の取得）
- 在庫管理ユニット（在庫チェック）

**提供するAPI:**
- カートへの追加
- カート内容取得
- 数量変更
- 商品削除

---

## ユーザーストーリー

### US-005: カートへの商品追加

**ストーリー**
> ゲストユーザーとして、書籍をショッピングカートに追加したい。なぜなら、購入する書籍をまとめたいため。

**受け入れ基準**
- [ ] 商品詳細ページに「カートに追加」ボタンが表示される
- [ ] 数量を指定してカートに追加できる
- [ ] カートに追加すると、「カートに追加しました」というメッセージが表示される
- [ ] ヘッダーのカートアイコンに、カート内の商品数が表示される
- [ ] 在庫数を超える数量は追加できない

**優先度**: 高（MVP）

---

### US-006: カート内容表示

**ストーリー**
> ゲストユーザーとして、カートの内容を確認したい。なぜなら、購入前に選択した書籍と合計金額を確認したいため。

**受け入れ基準**
- [ ] カートページが表示される
- [ ] カート内の各書籍について、書籍画像、タイトル、価格、数量、小計が表示される
- [ ] カート内の商品の合計金額が表示される
- [ ] カートが空の場合、「カートは空です」と表示される
- [ ] 「レジに進む」ボタンが表示される

**優先度**: 高（MVP）

---

### US-007: カート内商品の数量変更

**ストーリー**
> ゲストユーザーとして、カート内の書籍の数量を変更したい。なぜなら、購入する冊数を調整したいため。

**受け入れ基準**
- [ ] カートページで各書籍の数量を変更できる
- [ ] 数量を変更すると、小計と合計金額が自動的に更新される
- [ ] 在庫数を超える数量には変更できない
- [ ] 数量を0にすると、その商品はカートから削除される

**優先度**: 高（MVP）

---

### US-008: カートからの商品削除

**ストーリー**
> ゲストユーザーとして、カートから書籍を削除したい。なぜなら、購入しない書籍をカートから取り除きたいため。

**受け入れ基準**
- [ ] カートページで各書籍に「削除」ボタンが表示される
- [ ] 「削除」ボタンをクリックすると、その商品がカートから削除される
- [ ] 削除後、合計金額が更新される
- [ ] すべての商品を削除すると、「カートは空です」と表示される

**優先度**: 高（MVP）

---

## ユニット内の依存関係
- US-005（カートへの商品追加）とUS-006（カート内容表示）が基礎
- US-007（数量変更）とUS-008（商品削除）はUS-006に依存
- US-007とUS-008は並行実装可能
