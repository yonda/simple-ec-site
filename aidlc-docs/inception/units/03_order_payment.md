# ユニット3: 注文・決済管理 (Order & Payment)

## 概要
注文の確認、決済処理、注文完了を管理する境界づけられたコンテキスト。
カートから注文への変換と、決済処理を担当する。

## 責任範囲
- 注文内容の確認
- 配送先情報の入力
- 決済処理（モック実装）
- 注文完了の通知
- 在庫の減算（在庫管理ユニットと連携）

## ユニット間インターフェース
**依存するユニット:**
- ショッピングカート管理ユニット（カート内容の取得）
- 在庫管理ユニット（在庫減算）

**提供するAPI:**
- 注文作成
- 決済実行
- 注文詳細取得

---

## ユーザーストーリー

### US-009: 注文確認

**ストーリー**
> ゲストユーザーとして、注文内容を確認したい。なぜなら、決済前に注文内容に誤りがないか確認したいため。

**受け入れ基準**
- [ ] カートページの「レジに進む」ボタンをクリックすると、注文確認ページに遷移する
- [ ] 注文する書籍の一覧と合計金額が表示される
- [ ] 配送先住所の入力フォームが表示される（氏名、郵便番号、住所、電話番号）
- [ ] 「注文を確定する」ボタンが表示される

**優先度**: 高（MVP）

---

### US-010: 決済処理（モック）

**ストーリー**
> ゲストユーザーとして、注文を確定して決済したい。なぜなら、書籍を購入したいため。

**受け入れ基準**
- [ ] 注文確認ページで「注文を確定する」ボタンをクリックできる
- [ ] ボタンをクリックすると、決済処理（モック）が実行される
- [ ] 決済は常に成功したものとして扱われる（実際の決済処理は行わない）
- [ ] 決済成功後、注文完了ページに遷移する
- [ ] システムは購入された書籍の在庫を自動的に減算する

**優先度**: 高（MVP）

---

### US-011: 注文完了確認

**ストーリー**
> ゲストユーザーとして、注文が完了したことを確認したい。なぜなら、購入が正常に処理されたことを知りたいため。

**受け入れ基準**
- [ ] 注文完了ページが表示される
- [ ] 「ご注文ありがとうございます」というメッセージが表示される
- [ ] 注文番号、注文日時、注文内容、配送先住所、合計金額が表示される
- [ ] 登録済みユーザーの場合、「注文履歴はこちら」というリンクが表示される
- [ ] 「トップページに戻る」ボタンが表示される

**優先度**: 高（MVP）

---

## ユニット内の依存関係
- US-009（注文確認）→ US-010（決済処理）→ US-011（注文完了確認）の順序で依存
- 3つのストーリーは連続したフローを構成
